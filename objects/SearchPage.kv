<SearchPage>
    imageList1: imageList1
    imageList2: imageList2
    imageList3: imageList3
    searchInput: searchInput
    searchTagInput: searchTagInput
    tagBox: tagBox
    addedTagBox: addedTagBox
    blacklistBtn: blacklistBtn
    loadBtn: loadBtn
    mainScrollView: mainScrollView

    GridLayout:
        cols: 2
        size: (root.width, root.height)

        ScrollView:
            id: mainScrollView
            size_hint: (0.8, None)
            do_scroll_y: True
            do_scroll_x: False
            size: self.parent.size
            always_overscroll: False

            StackLayout:
                size_hint: (1, None)
                padding: (10, 10)
                spacing: 10
                height: max(root.imageList1.height,root.imageList2.height,root.imageList3.height)*1.05 + 60
                
                StackLayout:
                    size_hint: (1/3, None)
                    id: imageList1
                    spacing: 10

                StackLayout:
                    size_hint: (1/3, None)
                    id: imageList2
                    spacing: 10

                StackLayout:
                    size_hint: (1/3, None)
                    id: imageList3
                    spacing: 10
                
                Button:
                    id: loadBtn
                    size_hint: (1, None)
                    height: 50
                    text: "Load more"
                    on_release: root.loadMoreImages()
        
        StackLayout:
            size_hint: (0.2, 1)
            padding: (10, 10)
            spacing: 10

            canvas:
                Color:
                    rgba: (0.8,0.8,0.8,1)
                Rectangle:
                    pos: self.pos
                    size: self.size

            TextInput:
                id: searchInput
                multiline: False
                size_hint: (1, None)
                height: 40
                on_text: root.searchByName(self.text)

            BoxLayout:
                size_hint: (1, None)
                orientation: "vertical"
                height: 130

                TextInput:
                    id: searchTagInput
                    multiline: False
                    size_hint: (1, None)
                    height: 40
                    on_text: root.searchTags(self.text)

                StackLayout:
                    height: 90
                    size_hint: (1, None)
                    orientation: "tb-lr"

                    canvas:
                        Color:
                            rgba: (0.9,0.9,0.9,1)
                        Rectangle:
                            pos: self.pos
                            size: self.size

                    ScrollView:
                        size_hint: (1, None)
                        do_scroll_y: True
                        do_scroll_x: False
                        height: 90
                        width: self.parent.width
                        bar_width: 3
                        always_overscroll: False

                        StackLayout:
                            id: tagBox
                            size_hint: (1, None)

            StackLayout:
                size_hint: (1, None)
                height: root.height-300
                orientation: "tb-lr"

                canvas:
                    Color:
                        rgba: (0.8,0.8,0.8,1)
                    Rectangle:
                        pos: self.pos
                        size: self.size
                
                ScrollView:
                    size_hint: (1, None)
                    do_scroll_y: True
                    do_scroll_x: False
                    height: root.height-300
                    width: self.parent.width
                    bar_width: 3
                    always_overscroll: False

                    StackLayout:
                        id: addedTagBox
                        size_hint: (1, None)
                        spacing: 5
                        padding: 5

            Button:
                size_hint: (1, None)
                height: 40
                text: "Clear"
                on_release: root.clearFilters()
            
            Button:
                id: blacklistBtn
                size_hint: (1, None)
                height: 30
                text: "Clear Blacklist [0]"
                on_release: root.clearBlacklist()